{% extends "admin/change_form.html" %}
{% load i18n admin_urls static admin_modify %}

{% block submit_buttons_bottom %}
    {{ block.super }}
    
    {% if original and original.pk %}
        <div class="submit-row">
            {% if original.can_start_generation %}
                <input type="submit" value="üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é" class="default" name="_start_generation">
            {% else %}
                <input type="submit" value="üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é" class="default" name="_start_generation" disabled title="–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞">
            {% endif %}
            
            {% if original.is_processing %}
                <input type="submit" value="‚èπÔ∏è –û—Ç–º–µ–Ω–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é" class="default" name="_cancel_generation">
            {% endif %}
        </div>
        
        {% if not original.can_start_generation %}
            <div class="help">
                <h4>–û—à–∏–±–∫–∏, –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø—É—Å–∫—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:</h4>
                <ul>
                    {% for error in original.get_generation_errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
    {% endif %}
{% endblock %}
